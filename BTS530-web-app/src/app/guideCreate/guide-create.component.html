<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h3 class="darkBlueColor font-weight-bold">Create Guide</h3>
      <form (ngSubmit)='guideSave()' class="mt-4" #f='ngForm'>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label class="control-label" for="author">Author:</label>
              <input class="form-control" id="author" name="author" value="{{currentUser}}" readonly required
                minlength="2" maxlength="100">

              <!-- Validation error area -->
              <!-- Single condition... -->
              <!-- <div [hidden]="name.valid || name.pristine" class='alert alert-danger mt-2'> -->
              <!-- Multiple conditions... -->
              <!--removed-->
              <!--<div *ngIf='author.invalid && (author.dirty || author.touched)' class='alert alert-danger mt-2'>
                The code below is situation-dependent - think before coding 
                <div *ngIf='author.errors?.required'>Author is required, 2 to 100 characters</div>
                <div *ngIf='author.errors?.minlength'>Author must be at least 2 characters</div>
              </div>-->
              <!--removed-->

            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label class="control-label" for="category">Category:</label>
              <select class="form-control" id="category" name="category" required [(ngModel)]="newGuideForm.category"
                #category="ngModel">
                <option value="{{c}}" *ngFor="let c of categories.categories">{{c}}</option>
              </select>
              <!-- Validation error area -->
              <div *ngIf='category.invalid && (category.dirty || category.touched)' class='alert alert-danger mt-2'>
                <!-- The code below is situation-dependent - think before coding -->
                <div *ngIf='category.errors?.required'>You must select a category</div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label class="control-label" for="fullTitle">Full Title:</label>
              <input class="form-control" id="fullTitle" name="fullTitle" [(ngModel)]="newGuideForm.fullTitle" required
                minlength="2" maxlength="100" #fullTitle="ngModel">

              <!-- Validation error area -->
              <div *ngIf='fullTitle.invalid && (fullTitle.dirty || fullTitle.touched)' class='alert alert-danger mt-2'>
                <div *ngIf='fullTitle.errors?.required'>Full Title is required, 2 to 100 characters</div>
                <div *ngIf='fullTitle.errors?.minlength'>Full Title must be at least 2 characters</div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label class="control-label" for="shortTitle">Short Title:</label>
              <input class="form-control" id="shortTitle" name="shortTitle" [(ngModel)]="newGuideForm.shortTitle"
                required minlength="2" maxlength="50" #shortTitle="ngModel">

              <!-- Validation error area -->
              <div *ngIf='shortTitle.invalid && (shortTitle.dirty || shortTitle.touched)'
                class='alert alert-danger mt-2'>
                <div *ngIf='shortTitle.errors?.required'>Short Title is required, 2 to 50 characters</div>
                <div *ngIf='shortTitle.errors?.minlength'>Short Title must be at least 2 characters</div>
              </div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label" for="description">Description:</label>
          <input class="form-control" id="description" name="description" [(ngModel)]="newGuideForm.description"
            maxlength="1000" #shortTitle="ngModel">

          <!-- Validation error area -->

        </div>

        <div class="form-group">
          <label class="control-label" for="content">Content:</label>
          <textarea class="form-control" id="content" name="content" rows="10" required
            [(ngModel)]="newGuideForm.content" maxlength="3000" #content="ngModel"></textarea>

          <!-- Validation error area -->
          <div *ngIf='content.invalid && (content.dirty || content.touched)' class='alert alert-danger mt-2'>
            <div *ngIf='content.errors?.required'>Content is required, max 3000 characters.</div>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label" for="singleImageUrl">Image Url (Max 3):</label>
          <input class="form-control" id="singleImageUrl" name="singleImageUrl" [(ngModel)]="this.singleImageUrl"
            maxlength="200" #signleImageUrl="ngModel">
          <button [disabled]="this.imageUrls.length === 3" class="btn darkBlueBGColor shadow-none" type="button"
            (click)="addImage()"><i class="fa fa-plus" aria-hidden="true"></i> Add Image</button>
          &nbsp;<button [disabled]="this.imageUrls.length === 0" class="btn btn-danger font-weight-bold shadow-none"
            type="button" (click)="clearImages()"><i class="fa fa-trash" aria-hidden="true"></i> Clear</button>
        </div>

        <div class="form-group">
          <ol>
            <li *ngFor='let i of imageUrls'>{{i}}</li>
          </ol>
        </div>





        <button class="btn createBtn px-4 py-2" type="submit" [disabled]="!f.form.valid">Create</button>&nbsp;


      </form>
    </div>
  </div>
</div>